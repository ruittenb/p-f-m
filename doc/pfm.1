.\" Automatically generated by Pod::Man 2.1801 (Pod::Simple 3.05)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.\"    ds C` ""
.\"    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.ie \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.el \{\
.    de IX
..
.\}
.\"
.\" Accent mark definitions (ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "PFM 1"
.TH PFM 1 "2010-04-08" " " " "
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.ds Yr 2010
.ds Vw @(#) pfm.pl 2.01.6
.de Vp
This manual pertains to \f(CWpfm\fP version \\$3.
..
.hy 0 \" hyphenation off
.SH "NAME"
\&\f(CW\*(C`pfm\*(C'\fR \- Personal File Manager for Linux/Unix
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\f(CW\*(C`pfm [ \-l, \-\-layout \*(C'\fR\fInumber\fR\f(CW\*(C` ]\*(C'\fR
\&\f(CW\*(C` [ \*(C'\fR\fIdirectory\fR\f(CW\*(C` ] [ \-s, \-\-swap \*(C'\fR\fIdirectory\fR\f(CW\*(C` ]\*(C'\fR
.PP
\&\f(CW\*(C`pfm { \-v, \-\-version | \-h, \-\-help }\*(C'\fR
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
\&\f(CW\*(C`pfm\*(C'\fR is a terminal-based file manager, based on \s-1PFM\s0.COM for MS-DOS.
.PP
All \f(CW\*(C`pfm\*(C'\fR commands are accessible through one or two keystrokes, and a few
are accessible with the mouse. Most command keys are case-insensitive. \f(CW\*(C`pfm\*(C'\fR
can operate in single-file mode or multiple-file mode. In single-file mode,
the command corresponding to the keystroke will be performed on the current
(highlighted) file only. In multiple-file mode, the command will apply to
a selection of files.
.PP
Note that throughout this manual page, \fIfile\fR can mean any type of file,
not just plain regular files. These will be referred to as \fIregular files\fR.
.SH "OPTIONS"
.IX Header "OPTIONS"
Most of \f(CW\*(C`pfm\*(C'\fR's configuration is read from a config file. The default
location for this file is \fI\f(CI$HOME\fI/.pfm/.pfmrc\fR, but an alternative location
may be specified using the environment variable \f(CW\*(C`PFMRC\*(C'\fR. If there is no
config file present at startup, one will be created. The file contains
many comments on the available options, and is therefore supposed to be
self-explanatory. \f(CW\*(C`pfm\*(C'\fR will issue a warning if the config file version
is older than the version of \f(CW\*(C`pfm\*(C'\fR you are running. In this case, please
let \f(CW\*(C`pfm\*(C'\fR create a new default config file and compare the changes with
your own settings, so that you do not miss any new config options or
format changes. See also the \fBC\fRonfig command under \s-1MORE\s0 \s-1COMMANDS\s0 below,
and \s-1DIAGNOSIS\s0.
.PP
There are two commandline options that specify starting directories.
The \f(CW\*(C`CDPATH\*(C'\fR environment variable is taken into account when \f(CW\*(C`pfm\*(C'\fR
tries to find these directories.
.IP "\fIdirectory\fR" 4
.IX Item "directory"
The directory that \f(CW\*(C`pfm\*(C'\fR should initially use as its main directory. If
unspecified, the current directory is used.
.IP "\-h, \-\-help" 4
.IX Item "-h, --help"
Print usage information, then exit.
.IP "\-l, \-\-layout \fInumber\fR" 4
.IX Item "-l, --layout number"
Start \f(CW\*(C`pfm\*(C'\fR using the specified column layout (as defined in the \fI.pfmrc\fR).
.IP "\-s, \-\-swap \fIdirectory\fR" 4
.IX Item "-s, --swap directory"
The directory that \f(CW\*(C`pfm\*(C'\fR should initially use as swap directory. (See
also the \fBF7\fR command below).
.Sp
There would be no point in setting the swap directory and subsequently
returning to the main directory if 'persistentswap' is turned off in your
config file. Therefore, \f(CW\*(C`pfm\*(C'\fR will swap back to the main directory \fIonly\fR
if 'persistentswap' is turned on.
.IP "\-v, \-\-version" 4
.IX Item "-v, --version"
Print current version, then exit.
.SH "NAVIGATION"
.IX Header "NAVIGATION"
Navigation through directories is essentially done using the arrow keys
and the \fIvi\fR\|(1) cursor keys (\fBhjkl\fR). The following additional navigation
keys are available:
.PP
Movement inside a directory:
.in +4n
.TS
lw(20n) | lw(41n).
_
\fIup arrow\fP, \fIdown arrow\fP	move the cursor by one line
\fBk\fP, \fBj\fP	move the cursor by one line
\fB-\fP, \fB+\fP	move the cursor by ten lines
\fBCTRL-E\fP, \fBCTRL-Y\fP	scroll the screen by one line
\fBCTRL-U\fP, \fBCTRL-D\fP	move the cursor by half a page
\fBCTRL-B\fP, \fBCTRL-F\fP	move the cursor by a full page
\fBPgUp\fP, \fBPgDn\fP	move the cursor by a full page
\fBHOME\fP, \fBEND\fP	move the cursor to the top or bottom line
.\"_	_
\fBSPACE\fP	T{
mark the current file,
then move the cursor one line down
T}
_
.TE
.in
.PP
Movement between directories:
.in +4n
.TS
lw(20n) | lw(41n).
_
\fIright arrow\fP, \fBl\fP	\fIchdir()\fP to a subdirectory
\fIleft arrow\fP, \fBh\fP	\fIchdir()\fP to the parent directory
\fBENTER\fP	\fIchdir()\fP to a subdirectory
\fBESC\fP, \fBBS\fP	\fIchdir()\fP to the parent directory
_
.TE
.in
.PP
If the option 'chdirautocmd' has been specified in the \fI.pfmrc\fR file,
pfm will execute that command after every \fIchdir()\fR.
.PP
Note 1: the \fBl\fR and \fB\s-1ENTER\s0\fR keys function differently when the cursor
is on a non-directory file (see below under \fBL\fRink and \s-1LAUNCHING\s0 \s-1FILES\s0
respectively).
.PP
Note 2: see below under \s-1BUGS\s0 on the functioning of \fB\s-1ESC\s0\fR.
.SH "COMMANDS"
.IX Header "COMMANDS"
.IP "\fBAttrib\fR" 4
.IX Item "Attrib"
Changes the mode of the file if you are the owner. The mode may be specified
either symbolically or numerically, see \fIchmod\fR\|(1) for more details.
.Sp
Note 1: the mode on a symbolic link cannot be set. See \fIchmod\fR\|(1) for more
details.
.Sp
Note 2: the name \fBAttrib\fR for this command is a reminiscence of the \s-1DOS\s0
version.
.IP "\fBCopy\fR" 4
.IX Item "Copy"
Copy current file. You will be prompted for the destination filename.
Directories will be copied recursively with all underlying files.
.Sp
In multiple-file mode, it is not allowed to specify a single non-directory
filename as a destination. Instead, the destination name must be a
directory or a name containing a \fB=1\fR, \fB=2\fR or \fB=7\fR escape (see below
under c\fBO\fRmmand).
.Sp
If clobber mode is off (see below under the \fB!\fR command), existing files
will not be overwritten unless the action is confirmed by the user.
.IP "\fBDelete\fR" 4
.IX Item "Delete"
Delete a file or directory. You must confirm this command with \fBY\fR
to actually delete the file. If the current file is a directory which
contains files, and you want to delete it recursively, you must respond with
\&\fBA\fRffirmative to the additional prompt. Lost files (files on the screen
but not actually present on disk) can be deleted from the screen listing
without confirmation. Whiteouts cannot be deleted; use un\fBW\fRhiteout for
this purpose.
.IP "\fBEdit\fR" 4
.IX Item "Edit"
Edit a file with your external editor. You can specify an editor with the
environment variable \s-1VISUAL\s0 or \s-1EDITOR\s0 or with the 'editor' option
in the \fI.pfmrc\fR file. Otherwise \fIvi\fR\|(1) is used.
.IP "\fBFind\fR" 4
.IX Item "Find"
If the current sort mode is by filename, you are prompted for a (partial)
filename. While you type, the cursor is positioned on the best match. 
Type \s-1ENTER\s0 to end typing.
.Sp
If the current sort mode is not by filename, then you are prompted for a
filename. The cursor is then positioned on that file.
.IP "\fBtarGet\fR" 4
.IX Item "tarGet"
Allows you to change the target that a symbolic link points to. You must
have permission to remove the current symbolic link.
.IP "\fBInclude\fR" 4
.IX Item "Include"
Allows you to mark a group of files which meet a certain criterion:
.RS 4
.IP "\fBA\fRfter / \fBB\fRefore" 4
.IX Item "After / Before"
files newer/older than a specified date and time
.IP "\fBE\fRvery file" 4
.IX Item "Every file"
all files, including dotfiles, except for the \fB.\fR and \fB..\fR entries
.IP "\fBF\fRiles only" 4
.IX Item "Files only"
regular files of which the filenames match a specified regular expression
(not a glob pattern!)
.IP "\fBO\fRldmarks" 4
.IX Item "Oldmarks"
files which were previously marked and are now denoted with
an \fIoldmark\fR (\fB.\fR).
.IP "\fBU\fRser" 4
.IX Item "User"
files owned by the current user
.RE
.RS 4
.Sp
Oldmarks may be used to perform more than one command on a group of files.
.RE
.IP "\fBLink\fR" 4
.IX Item "Link"
Prompts to create either:
.RS 4
.IP "an \fBA\fRbsolute symlink" 4
.IX Item "an Absolute symlink"
This will create a symlink containing an absolute path to the target,
irrespective of whether you enter a relative or an absolute symlink name.
.Sp
Example: when the cursor is on the file \fI/home/rene/incoming/.plan\fR,
and you request an absolute symlink to be made with either the name
\&\fI../.plan\fR or \fI/home/rene/.plan\fR, the actual symlink will become:
.Sp
.Vb 1
\&    /home/rene/.plan \-> /home/rene/incoming/.plan
.Ve
.IP "a \fBH\fRard link" 4
.IX Item "a Hard link"
This will create an additional hard link to the current file with the
specified name, which must be on the same filesystem.
.IP "a \fBR\fRelative symlink" 4
.IX Item "a Relative symlink"
This will create a symlink containing a relative path to the target,
irrespective of whether you enter a relative or an absolute symlink name.
.Sp
Example: when the cursor is on the file \fI/home/rene/incoming/.plan\fR,
and you request a relative symlink to be made with either the name
\&\fI../.plan\fR or \fI/home/rene/.plan\fR, the actual symlink will become:
.Sp
.Vb 1
\&    /home/rene/.plan \-> incoming/.plan
.Ve
.RE
.RS 4
.Sp
If a directory is specified, \f(CW\*(C`pfm\*(C'\fR will follow the behavior of \fIln\fR\|(1),
which is to create the new link inside that directory.
.Sp
In multiple-file mode, it is not allowed to specify a single non-directory
filename as a new name. Instead, the new name must be a directory or a
name containing a \fB=1\fR, \fB=2\fR or \fB=7\fR escape (see below under c\fBO\fRmmand).
.Sp
If clobber mode is off (see below under the \fB!\fR command), existing files
will not be overwritten.
.Sp
Note that if the current file is a directory, the \fBl\fR key, being one of
the \fIvi\fR\|(1) cursor keys, will \fIchdir()\fR you into the directory. The capital \fBL\fR
command will \fIalways\fR try to make a link.
.RE
.IP "\fBMore\fR" 4
.IX Item "More"
Presents you with a choice of operations not related to the current
files. Use this to configure \f(CW\*(C`pfm\*(C'\fR, edit a new file, make a new directory,
show a different directory, kill all child processes, or write the history
files to disk. See below under \s-1MORE\s0 \s-1COMMANDS\s0. Pressing \fB\s-1ESC\s0\fR will take
you back to the main menu.
.IP "\fBName\fR" 4
.IX Item "Name"
Shows the complete long filename. For a symbolic link, this command
will also show the target of the symbolic link. This is useful in case
the terminal is not wide enough to display the entire name, or if the
name contains non-printable characters. Non-ASCII characters and control
characters will be displayed as their octal or hexadecimal equivalents like
the examples in the following table. Spaces will be converted as well, if
the 'translatespace' option is turned on in the \fI.pfmrc\fR file.  When the
name is shown in its converted form, pressing \fB*\fR will change the radix.
The 'defaultradix' option specifies the initial radix that will be used.
.Sp
Examples:
.in +4n
.TS
l  | c  s
l6 | l8 l.
_
character	representation in radix
_
\^	octal	hexadecimal\0
_
CTRL-A	\\001	\\0x01
space	\\040	\\0x20
c cedilla (\fB\(,c\fP)	\\347	\\0xe7
backslash (\fB\\\fP)	\\\\	\\\\\0
_
.TE
.in
.IP "\fBcOmmand\fR" 4
.IX Item "cOmmand"
Allows execution of a shell command. After the command completes, \f(CW\*(C`pfm\*(C'\fR
will resume.
.Sp
On the commandline, you may use several special abbreviations, which will
be replaced by \f(CW\*(C`pfm\*(C'\fR with the current filename, directoryname etc. (see
below). These abbreviations start with an escape character. This escape
character is defined with the option 'escapechar' in your \fI.pfmrc\fR file. The
default is \fB=\fR. Previous versions of \f(CW\*(C`pfm\*(C'\fR used \fB\e\fR, but this was deemed
too confusing because backslashes are parsed by the shell as well. This
manual page (and the default config file) will assume you are using \fB=\fR as
\&'escapechar'.
.Sp
The following abbreviations are available:
.RS 4
.IP "\fB=1\fR" 4
.IX Item "=1"
the current filename without extension (see below)
.IP "\fB=2\fR" 4
.IX Item "=2"
the current filename, complete
.IP "\fB=3\fR" 4
.IX Item "=3"
the full current directory path
.IP "\fB=4\fR" 4
.IX Item "=4"
the mountpoint of the current filesystem
.IP "\fB=5\fR" 4
.IX Item "=5"
the full swap directory path (see \fBF7\fR command)
.IP "\fB=6\fR" 4
.IX Item "=6"
the basename of the current directory
.IP "\fB=7\fR" 4
.IX Item "=7"
the extension of the current filename (see below)
.IP "\fB=8\fR" 4
.IX Item "=8"
a space-separated list of all selected filenames
.IP "\fB==\fR" 4
.IX Item "=="
a single literal \fB=\fR
.IP "\fB=e\fR" 4
.IX Item "=e"
the editor specified with the 'editor' option in the config file
.IP "\fB=p\fR" 4
.IX Item "=p"
the pager specified with the 'pager' option in the config file
.IP "\fB=v\fR" 4
.IX Item "=v"
the image viewer specified with the 'viewer' option in the config file
.RE
.RS 4
.Sp
The \fIextension\fR of the filename is defined as follows:
.Sp
If the filename does not contain a period at all, then the file has no
extension (\fB=7\fR is empty) and its whole name is regarded as \fB=1\fR.
.Sp
If the filename does contain a period, the extension \fB=7\fR is defined
as the final part of the filename, starting at the last period in the
name. The filename \fB=1\fR is the part before the period.
.Sp
In all cases, the concatenation of \fB=1\fR and \fB=7\fR is equal to \fB=2\fR.
.Sp
Examples:
.in +4n
.TS
lb | lb lb
l  | l  l  .
_
=2	=1	=7
_
track01.wav	track01	.wav
garden.jpg	garden	.jpg
end.	end	.
somename	somename	\fIempty\fP
\.profile	\fIempty\fP	.profile
\.profile.old	.profile	.old
_
.TE
.in -4n
.Sp
See also below under \s-1QUOTING\s0 \s-1RULES\s0.
.RE
.IP "\fBPrint\fR" 4
.IX Item "Print"
Will prompt for a print command (default \f(CW\*(C`lpr \-P$PRINTER =2\*(C'\fR, or \f(CW\*(C`lpr =2\*(C'\fR
if \f(CW\*(C`PRINTER\*(C'\fR is unset) and will run it. No formatting is done. You may
specify a print command with the 'printcmd' option in the \fI.pfmrc\fR file.
.IP "\fBQuit\fR" 4
.IX Item "Quit"
Exit \f(CW\*(C`pfm\*(C'\fR. The option 'confirmquit' in the \fI.pfmrc\fR file specifies
whether \f(CW\*(C`pfm\*(C'\fR should ask for confirmation. Note that by pressing a capital
\&\fBQ\fR (quick quit), you will \fInever\fR be asked for confirmation.
.IP "\fBRename\fR" 4
.IX Item "Rename"
Change the name of the file and/or move it into another directory. You will
be prompted for the new filename. Depending on your Unix implementation,
a pathname on another filesystem may or may not be allowed.
.Sp
In multiple-file mode, it is not allowed to specify a single non-directory
filename as a new name. Instead, the new name must be a directory or a
name containing a \fB=1\fR or \fB=2\fR escape (see above under c\fBO\fRmmand).
.Sp
If clobber mode is off (see below under the \fB!\fR command), existing files
will not be overwritten unless the action is confirmed by the user.
.IP "\fBShow\fR" 4
.IX Item "Show"
Displays the contents of the current file or directory on screen.
You can choose which pager to use for file viewing with the environment
variable \f(CW\*(C`PAGER\*(C'\fR, or with the 'pager' option in the \fI.pfmrc\fR file.
.IP "\fBTime\fR" 4
.IX Item "Time"
Change mtime (modification date/time) of the file. The time may be entered
either with or without clarifying interpunction (e.g. 2008\-12\-04 08:42.12)
as the interpunction will be removed to obtain a format which \fItouch\fR\|(1)
can use. Enter \fB.\fR to set the mtime to the current date and time.
.IP "\fBUid\fR" 4
.IX Item "Uid"
Change ownership of a file. Note that many Unix variants do not allow normal
(non\-\f(CW\*(C`root\*(C'\fR) users to change ownership. Symbolic links will be followed.
.IP "\fBsVn\fR" 4
.IX Item "sVn"
Updates the current file with Subversion status information. The command
to use can be configured in the \fI.pfmrc\fR with the 'rcscmd' option.
See also \fBM\fRore \- s\fBV\fRn.
.IP "\fBunWhiteout\fR" 4
.IX Item "unWhiteout"
(Only on platforms that support whiteout files). Provides the option
to remove the whiteout entry in the top layer of a translucent (tfs),
inheriting (ifs) or union (unionfs) filesystem, thereby restoring access
to the corresponding file in the lower layer.
.IP "\fBeXclude\fR" 4
.IX Item "eXclude"
Allows you to erase marks on a group of files which meet a certain
criterion. See \fBI\fRnclude for details.
.IP "\fBYour command\fR" 4
.IX Item "Your command"
Like c\fBO\fRmmand (see above), except that it uses one-letter commands
(case-sensitive) that have been preconfigured in the \fI.pfmrc\fR file.
\&\fBY\fRour commands may use \fB=1\fR up to \fB=8\fR and \fB=e\fR, \fB=p\fR and \fB=v\fR
escapes just as in c\fBO\fRmmand, e.g.
.Sp
.Vb 3
\&    your[c]:tar cvf \- =2 | gzip > =2.tar.gz
\&    your[t]:tar tvf =2 | =p
\&    your[o]:svn commit =8
.Ve
.IP "\fBsiZe\fR" 4
.IX Item "siZe"
For directories, reports the grand total (in bytes) of the directory
and its contents.
.Sp
For other file types, reports the total number of bytes in allocated
data blocks. For regular files, this is often more than the reported
file size. For special files and \fIfast symbolic links\fR, the number is
zero, as no data blocks are allocated for these file types.
.Sp
If the screen layout (selected with \fBF9\fR) contains a 'grand total' column,
that column will be used. Otherwise, the 'filesize' column will temporarily
be (mis)used. A 'grand total' column in the layout will never be filled in
when entering the directory.
.Sp
Note: since \fIdu\fR\|(1) commands are not portable, \f(CW\*(C`pfm\*(C'\fR guesses how it can
calculate the size according to the Unix variant that it runs on. If \f(CW\*(C`pfm\*(C'\fR
guesses this incorrectly, you might have to specify the \f(CW\*(C`du\*(C'\fR command (or
\&\f(CW\*(C`du | awk\*(C'\fR combination) applicable for your Unix version in the \fI.pfmrc\fR
file. Examples are provided. Please notify the author if you know any
corrections that should be made.
.SH "MORE COMMANDS"
.IX Header "MORE COMMANDS"
These commands are accessible through the main screen \fBM\fRore command.
.IP "\fBBookmark\fR" 4
.IX Item "Bookmark"
This command will push the current directory onto the path history. With
the \fBM\fRore \- \fBS\fRhow command, it can be recalled using the up-arrow key.
.IP "\fBConfig pfm\fR" 4
.IX Item "Config pfm"
This command will open the \fI.pfmrc\fR config file with your preferred
editor. The file will be re-read by \f(CW\*(C`pfm\*(C'\fR after you exit your editor.
Options that are only modifiable through the config file (like
\&'columnlayouts') will be reinitialized immediately, options that affect
settings modifiable by key commands (like 'defaultsortmode') will not.
.IP "\fBEdit new file\fR" 4
.IX Item "Edit new file"
You will be prompted for the new filename, then your editor will
be spawned.
.IP "\fBmake Fifo\fR" 4
.IX Item "make Fifo"
Prompts for a name, then creates a \s-1FIFO\s0 file (named pipe) with that
name. See also \fIfifo\fR\|(4) and \fImkfifo\fR\|(1).
.IP "\fBsHell\fR" 4
.IX Item "sHell"
Spawns your default login shell. When you exit from it, \f(CW\*(C`pfm\*(C'\fR will resume.
.IP "\fBKill children\fR" 4
.IX Item "Kill children"
Lists available signals. After selection of a signal, sends this signal
to all child processes of \f(CW\*(C`pfm\*(C'\fR (more accurately: all processes in the
same process group).
.IP "\fBMake new directory\fR" 4
.IX Item "Make new directory"
Specify a new directory name and \f(CW\*(C`pfm\*(C'\fR will create it for you. Furthermore,
if you don't have any files marked, your current directory will be set to
the newly created directory.
.IP "\fBShow directory\fR" 4
.IX Item "Show directory"
You will be asked for the directory you want to view. Note that this
command is different from \fBF7\fR because this will not change your current
swap directory status.
.IP "\fBsVn\fR" 4
.IX Item "sVn"
Updates the current directory with Subversion status information.
If you set the 'autorcs' option in your \fI.pfmrc\fR, this will automatically
be done every time \f(CW\*(C`pfm\*(C'\fR shows directory contents.
.IP "\fBWrite history\fR" 4
.IX Item "Write history"
\&\f(CW\*(C`pfm\*(C'\fR uses the readline library for keeping track of the Unix commands,
pathnames, regular expressions, modification times, and file modes
entered. The history is read from individual files in \fI\f(CI$HOME\fI/.pfm/\fR
every time \f(CW\*(C`pfm\*(C'\fR starts. The history is written only when this command
is given, or when \f(CW\*(C`pfm\*(C'\fR exits and the 'autowritehistory' option is set
in \fI.pfmrc\fR.
.SH "MISCELLANEOUS and FUNCTION KEYS"
.IX Header "MISCELLANEOUS and FUNCTION KEYS"
.IP "\fB\s-1ENTER\s0\fR" 4
.IX Item "ENTER"
If the current file is a directory, \f(CW\*(C`pfm\*(C'\fR will \fIchdir()\fR to that directory.
Otherwise, \f(CW\*(C`pfm\*(C'\fR will attempt to \fIlaunch\fR the file. See \s-1LAUNCHING\s0
\&\s-1FILES\s0 below.
.IP "\fB\s-1DEL\s0\fR" 4
.IX Item "DEL"
Identical to the \fBD\fRelete command (see above).
.IP "\fB!\fR" 4
.IX Item "!"
Toggle clobber mode. This controls whether a file should be overwritten when
its name is reused in \fBC\fRopy, \fBL\fRink or \fBR\fRename.
.IP "\fB""\fR" 4
.IX Item """"
Toggle pathname handling. In \fBphysical\fR mode, the current directory path
will always be transformed to its canonical form (the simplest form, with
symbolic names resolved). In \fBlogical\fR mode, all symbolic link components
in the current directory path will be preserved.
.IP "\fB%\fR" 4
.IX Item "%"
Toggle show/hide whiteout files.
.IP "\fB\ *\fR" 4
.IX Item "*"
Toggle the radix used by the \fBN\fRame command.
.IP "\fB.\fR" 4
.IX Item "."
Toggle show/hide dot files.
.IP "\fB/\fR" 4
.IX Item "/"
Identical to \fBF\fRind (see above).
.IP "\fB<\fR" 4
.IX Item "<"
Scroll the header and footer, in order to view all available commands.
.IP "\fB=\fR" 4
.IX Item "="
Cycle through displaying the username, the hostname, or username@hostname.
.IP "\fB>\fR" 4
.IX Item ">"
Scroll the header and footer, in order to view all available commands.
.IP "\fB?\fR" 4
.IX Item "?"
Display help. Identical to \fBF1\fR.
.IP "\fB@\fR" 4
.IX Item "@"
Allows the user to enter a perl command to be executed in the context
of \f(CW\*(C`pfm\*(C'\fR. Primarily used for debugging.
.IP "\fBF1\fR" 4
.IX Item "F1"
Display help, version number and license information.
.IP "\fBF2\fR" 4
.IX Item "F2"
\&\fIchdir()\fR back to the previous directory.
.IP "\fBF3\fR" 4
.IX Item "F3"
Fit the file list into the current window and refresh the display.
.IP "\fBF4\fR" 4
.IX Item "F4"
Change the current colorset. Multiple colorsets may be defined,
see the \fI.pfmrc\fR file itself for details.
.IP "\fBF5\fR" 4
.IX Item "F5"
Current directory will be reread. Use this when the contents of the
directory have changed. This command will erase all marks.
.IP "\fBF6\fR" 4
.IX Item "F6"
Allows you to re-sort the directory listing. You will be presented
a number of sort modes.
.IP "\fBF7\fR" 4
.IX Item "F7"
Alternates the display between two directories. When switching for the first
time, you are prompted for a directory path to show. When you switch back by
pressing \fBF7\fR again, the contents of the alternate directory are displayed
unchanged. Header text changes color when in swap screen. In shell commands,
the directory path from the alternate screen may be referred to as \fB=5\fR.
If the 'persistentswap' option has been set in the config file, then
leaving the swap mode will store the main directory path as swap path again.
.IP "\fBF8\fR" 4
.IX Item "F8"
Toggles the mark (include flag) on an individual file.
.IP "\fBF9\fR" 4
.IX Item "F9"
Toggle the column layout. Layouts are defined in your \fI.pfmrc\fR,
in the 'defaultlayout' and 'columnlayouts' options. See the config
file itself for information on changing the column layout.
.Sp
Note that a 'grand total' column in the layout will only be filled when
the si\fBZ\fRe command is issued, not when reading the directory contents.
.IP "\fBF10\fR" 4
.IX Item "F10"
Switch between single-file and multiple-file mode.
.IP "\fBF11\fR" 4
.IX Item "F11"
Refresh (using \fIlstat\fR\|(2)) the displayed file data for the current file.
.IP "\fBF12\fR" 4
.IX Item "F12"
Toggle mouse use. See below under \s-1MOUSE\s0 \s-1COMMANDS\s0.
.SH "LAUNCHING FILES"
.IX Header "LAUNCHING FILES"
The \fB\s-1ENTER\s0\fR key, when used on a non-directory file, will attempt to launch
the file.
.PP
The command used for launching a file is determined by the file type. File
types are identified by a unique name, preferably \s-1MIME\s0 type names. Launch
commands for every file type may be defined using the config file
\&'launch[\fIfiletype\fR]' options.
.PP
Example:
.PP
.Vb 2
\&    launch[image/gif]      :=v =2 &
\&    launch[application/pdf]:acroread =2 &
.Ve
.PP
There are three methods for determining the file type. You may opt to
use one, two, or all three of these methods, thereby using the second and
third method as fallback.
.PP
The following methods are available:
.IP "\fBextension\fR" 4
.IX Item "extension"
The filename extension will be translated to a file type using the
\&'extension[*.\fIextension\fR]' options in the config file.
.Sp
Example:
.Sp
.Vb 2
\&    extension[*.gif]:image/gif
\&    extension[*.pdf]:application/pdf
.Ve
.IP "\fBmagic\fR" 4
.IX Item "magic"
The \fIfile\fR\|(1) command will be run on the current file. Its output will
be translated to a file type using the 'magic[\fIregular expression\fR]'
options in the config file.
.Sp
Example:
.Sp
.Vb 2
\&    magic[GIF image data]:image/gif
\&    magic[PDF document]  :application/pdf
.Ve
.IP "\fBxbit\fR" 4
.IX Item "xbit"
The executable bits in the file permissions will be checked (after
symbolic links have been followed). If the current file is executable,
\&\f(CW\*(C`pfm\*(C'\fR will attempt to start the file as an executable command.
.PP
To select which method or methods (\fIextension\fR, \fImagic\fR, and/or \fIxbit\fR)
should be used for determining the file type, you should specify these
using the 'launchby' option (separated by commas if more than one).
.PP
Example:
.PP
.Vb 1
\&    launchby:xbit,extension
.Ve
.PP
If the file type cannot be determined, the current file will be displayed
using your pager.
.PP
The \fB\s-1ENTER\s0\fR key will always behave as if \f(CW\*(C`pfm\*(C'\fR runs in single-file mode.
It will \fInot\fR launch multiple files. Use \fBY\fRour or c\fBO\fRmmand to launch
multiple files.
.SH "QUOTING RULES"
.IX Header "QUOTING RULES"
\&\f(CW\*(C`pfm\*(C'\fR adds an extra layer of parsing to filenames and shell commands. It
is important to take notice of the rules that \f(CW\*(C`pfm\*(C'\fR uses.
.PP
The following six types of input can be distinguished:
.IP "\fBa regular expression\fR (only the \fBI\fRnclude and e\fBX\fRclude commands)" 4
.IX Item "a regular expression (only the Include and eXclude commands)"
The input is parsed as a regular expression.
.IP "\fBa time\fR (e.g. the \fBT\fRime or \fBI\fRnclude \- \fBB\fRefore commands)" 4
.IX Item "a time (e.g. the Time or Include - Before commands)"
Characters not in the set \f(CW\*(C`[0\-9.]\*(C'\fR are removed from the input.
.IP "\fBa literal pattern\fR (only the \fBF\fRind command)" 4
.IX Item "a literal pattern (only the Find command)"
The input is taken literally.
.IP "\fBnot a filename or shell command\fR (e.g. in \fBA\fRttribute or \fBU\fRid)" 4
.IX Item "not a filename or shell command (e.g. in Attribute or Uid)"
The input is taken literally.
.IP "\fBa filename\fR (e.g. in \fBC\fRopy or tar\fBG\fRet)." 4
.IX Item "a filename (e.g. in Copy or tarGet)."
First of all, tilde expansion is performed.
.Sp
Next, any \f(CW\*(C`=[1\-8evp]\*(C'\fR character sequence is expanded to the corresponding
value.
.Sp
At the same time, any \f(CW\*(C`=[^1\-8evp]\*(C'\fR character sequence is just replaced
with the character itself.
.Sp
Finally, if the filename is to be processed by \f(CW\*(C`pfm\*(C'\fR, it is taken literally;
if it is to be handed over to a shell, all metacharacters are replaced \fIescaped\fR.
.IP "\fBa shell command\fR (e.g. in c\fBO\fRmmand or \fBP\fRrint)" 4
.IX Item "a shell command (e.g. in cOmmand or Print)"
First of all, tilde expansion is performed.
.Sp
Next, any \f(CW\*(C`=[1\-8evp]\*(C'\fR character sequence is expanded to the corresponding
value, \fIwith shell metacharacters escaped\fR.
.Sp
At the same time, any \f(CW\*(C`=[^1\-8evp]\*(C'\fR character sequence is just replaced
with the character itself.
.PP
In short:
.IP "\(bu" 4
\&\f(CW\*(C`pfm\*(C'\fR always escapes shell metacharacters in expanded \fB=2\fR
\&\fIetc.\fR constructs.
.IP "\(bu" 4
In filenames entered, shell metacharacters are taken literally.
.IP "\(bu" 4
In shell commands entered, metacharacters that you want to be taken
literally must be escaped one extra time.
.PP
Examples:
.in
.TS
l | l l.
_
T{
char(s) wanted in filename
T}	T{
char(s) to type in filename
T}	T{
char(s) to type in shell command
T}
_
.\" great. *roff wants even more backslashes. so much for clarity.
\fIany non-metachar\fP	\fIthat char\fP	\fIthat char\fP
\\	\\	\\\\ \fBor\fR '\\'
"	"	\\" \fBor\fR '"'
\&=	==	==
\fIspace\fP	\fIspace\fP	\\\fIspace\fP \fBor\fR '\fIspace\fP'
\fIfilename\fP	=2	=2
\\2	\\2	\\\\2 \fBor\fR '\\2'
=2	==2	==2
_
.TE
.in
.SH "MOUSE COMMANDS"
.IX Header "MOUSE COMMANDS"
When \f(CW\*(C`pfm\*(C'\fR is run in an xterm or other terminal that supports the
use of a mouse, turning on mouse mode (either initially with the
\&'defaultmousemode' option in the \fI.pfmrc\fR file, or while running using
the \fBF12\fR key) will give mouse access to the following commands:
.in +2n
.TS
c | c s s s s s
^ | l l l l l l
c | l l l l l l
c | l l l l l l
c | l l l l l l
c | c s s s s s
c | c s s s s s.
_
\0button	location clicked
_
\^	pathline	T{
title/
.br
header
T}	footer	fileline	filename	dirname
_
1	\fIchdir()\fR	CTRL-U	CTRL-D	F8	\fBS\fPhow	\fBS\fPhow
2	c\fBO\fPmmand	PgUp	PgDn	\fBS\fPhow	ENTER	\fInew win\fP\0
3	c\fBO\fPmmand	PgUp	PgDn	\fBS\fPhow	ENTER	\fInew win\fP
_
up	\fIthree lines up\fP
down	\fIthree lines down\fP
_
.TE
.in
.PP
The cursor will \fIonly\fR be moved when the title, header or footer is
clicked, or when changing directory. The mouse wheel also works and
moves the cursor three lines per notch, or one line if shift is pressed.
.PP
Clicking button 1 on the current directory path will \fIchdir()\fR up to the
clicked ancestor directory. If the current directory was clicked, or the
device name, it will act like a \fBM\fRore \- \fBS\fRhow command.
.PP
Clicking button 2 on a directory name will open a new pfm terminal window.
.PP
Mouse use will be turned off during the execution of commands, unless
\&'mouseturnoff' is set to 'no' in \fI.pfmrc\fR. Note that setting this to
\&'no' means that your (external) commands (like your pager and editor)
will receive escape codes when the mouse is clicked.
.SH "WORKING DIRECTORY INHERITANCE"
.IX Header "WORKING DIRECTORY INHERITANCE"
Upon exit, \f(CW\*(C`pfm\*(C'\fR will save its current working directory in the file
\&\fI\f(CI$HOME\fI/.pfm/cwd\fR, and its swap directory, if any, in \fI\f(CI$HOME\fI/.pfm/swd\fR.
This enables the user to have the calling process (shell) \*(L"inherit\*(R"
\&\f(CW\*(C`pfm\*(C'\fR's current working directory, and to reinstate the swap directory
upon the next invocation.  To achieve this, you may call \f(CW\*(C`pfm\*(C'\fR using a
function or alias like the following:
.PP
Example for \fIksh\fR\|(1), \fIbash\fR\|(1) and \fIzsh\fR\|(1):
.PP
.Vb 11
\&    pfm() {
\&        if [ \-s ~/.pfm/swd ]; then
\&            swd=\-s"\`cat ~/.pfm/swd\`"
\&        fi
\&        # providing $swd is optional
\&        env pfm $swd "$@"
\&        if [ \-s ~/.pfm/cwd ]; then
\&            cd "\`cat ~/.pfm/cwd\`"
\&            rm \-f ~/.pfm/cwd
\&        fi
\&    }
.Ve
.PP
Example for \fIcsh\fR\|(1) and \fItcsh\fR\|(1):
.PP
.Vb 10
\&    alias pfm \*(Aq:                                \e
\&    if (\-s ~/.pfm/swd) then                     \e
\&        set swd=\-s"\`cat ~/.pfm/swd\`"            \e
\&    endif                                       \e
\&    : providing $swd is optional                \e
\&    env pfm $swd \e!*                            \e
\&    if (\-s ~/.pfm/cwd) then                     \e
\&        cd "\`cat ~/.pfm/cwd\`"                   \e
\&        rm \-f ~/.pfm/cwd                        \e
\&    endif\*(Aq
.Ve
.SH "ENVIRONMENT"
.IX Header "ENVIRONMENT"
.IP "\fB\s-1ANSI_COLORS_DISABLED\s0\fR" 4
.IX Item "ANSI_COLORS_DISABLED"
Detected as an indication that \s-1ANSI\s0 coloring escape sequences should not
be used.
.IP "\fB\s-1CDPATH\s0\fR" 4
.IX Item "CDPATH"
A colon-separated list of directories specifying the search path when
changing directories. There is always an implicit \fB.\fR entry at the start
of this search path.
.IP "\fB\s-1EDITOR\s0\fR" 4
.IX Item "EDITOR"
The editor to be used for the \fBE\fRdit command. Overridden by \s-1VISUAL\s0.
.IP "\fB\s-1LC_ALL\s0\fR" 4
.IX Item "LC_ALL"
.PD 0
.IP "\fB\s-1LC_COLLATE\s0\fR" 4
.IX Item "LC_COLLATE"
.IP "\fB\s-1LC_CTYPE\s0\fR" 4
.IX Item "LC_CTYPE"
.IP "\fB\s-1LC_MESSAGES\s0\fR" 4
.IX Item "LC_MESSAGES"
.IP "\fB\s-1LC_NUMERIC\s0\fR" 4
.IX Item "LC_NUMERIC"
.IP "\fB\s-1LC_TIME\s0\fR" 4
.IX Item "LC_TIME"
.IP "\fB\s-1LANG\s0\fR" 4
.IX Item "LANG"
.PD
Determine locale settings, most notably for collation sequence, messages
and date/time format. See \fIlocale\fR\|(7).
.IP "\fB\s-1PAGER\s0\fR" 4
.IX Item "PAGER"
Identifies the pager with which to view text files. Defaults to \fIless\fR\|(1)
for Linux systems or \fImore\fR\|(1) for Unix systems.
.IP "\fB\s-1PERL_RL\s0\fR" 4
.IX Item "PERL_RL"
Indicate whether and how the readline prompts should be highlighted.
See \fITerm::ReadLine\fR\|(3pm). If unset, a good guess is made based on your
config file 'framecolors[]' setting.
.IP "\fB\s-1PFMRC\s0\fR" 4
.IX Item "PFMRC"
Specify a location of an alternate \fI.pfmrc\fR file. If unset, the default
location \fI\f(CI$HOME\fI/.pfm/.pfmrc\fR is used. The cwd\- and history-files cannot
be displaced in this manner, and will always be located in the directory
\&\fI\f(CI$HOME\fI/.pfm/\fR.
.IP "\fB\s-1PRINTER\s0\fR" 4
.IX Item "PRINTER"
May be used to specify a printer to print to using the \fBP\fRrint command.
.IP "\fB\s-1SHELL\s0\fR" 4
.IX Item "SHELL"
Your default login shell, spawned by \fBM\fRore \- s\fBH\fRell.
.IP "\fB\s-1VISUAL\s0\fR" 4
.IX Item "VISUAL"
The editor to be used for the \fBE\fRdit command. Overrides \s-1EDITOR\s0.
.SH "FILES"
.IX Header "FILES"
The directory \fI\f(CI$HOME\fI/.pfm/\fR and files therein. A number of input histories
and the current working directory on exit are saved to this directory.
.PP
The default location for the config file is \fI\f(CI$HOME\fI/.pfm/.pfmrc\fR.
.SH "DIAGNOSIS"
.IX Header "DIAGNOSIS"
If \f(CW\*(C`pfm\*(C'\fR reports that your config file might be outdated, you might be
missing some of the newer configuration options (or default values for
these). Try the following command and compare the new config file with
your original one:
.PP
.Vb 1
\&    env PFMRC=~/.pfm/.pfmrc\-new pfm
.Ve
.PP
To prevent the warning from occurring again, update the '## Version' line.
.SH "BUGS and WARNINGS"
.IX Header "BUGS and WARNINGS"
When typed by itself, the \fB\s-1ESC\s0\fR key needs to be pressed twice. This is
due to the lack of a proper timeout in \f(CW\*(C`Term::Screen\*(C'\fR.
.PP
\&\f(CW\*(C`Term::ReadLine::Gnu\*(C'\fR does not allow a half-finished line to be aborted by
pressing \fB\s-1ESC\s0\fR. For most commands, you will need to clear the half-finished
line. You may use the terminal kill character (usually \fBCTRL-U\fR) for this
(see \fIstty\fR\|(1)).
.PP
The author once almost pressed \fB\s-1ENTER\s0\fR when logged in as root and with
the cursor on the file \fI/sbin/reboot\fR. You have been warned.
.PP
The smallest terminal size supported is 80x24. The display will be messed
up if you resize your terminal window to a smaller size.
.SH "VERSION"
.IX Header "VERSION"
.PP \" display the 'pertains to'-macro
.Vp \*(Vw
.SH "AUTHOR and COPYRIGHT"
.IX Header "AUTHOR and COPYRIGHT"
.PP \" display the authors
.\" the \(co character only exists in groff
.ie \n(.g .ds co \(co
.el       .ds co (c)
.ie \n(.g .ds e' \('e
.el       .ds e' e\*'
..
Copyright \*(co 1999-\*(Yr, Ren\*(e' Uittenbogaard
(ruittenb@users.sourceforge.net).
.PP
All rights reserved. This program is free software; you can redistribute
it and/or modify it under the terms described by the \s-1GNU\s0 General Public
License version 2.
.PP
This program was based on \s-1PFM\s0.COM version 2.32, originally written for
MS-DOS by Paul R. Culley and Henk de Heer. The name 'pfm' was adopted
with kind permission of the original authors.
.SH "SEE ALSO"
.IX Header "SEE ALSO"
The documentation on \s-1PFM\s0.COM. The manual pages for \fIchmod\fR\|(1), \fIfile\fR\|(1),
\&\fIless\fR\|(1), \fIlocale\fR\|(7), \fIlpr\fR\|(1), \fItouch\fR\|(1), \fIvi\fR\|(1).
.PP
For programmers: \fITerm::Screen\fR\|(3pm), \fITerm::ScreenColor\fR\|(3pm),
\&\fITerm::ReadLine\fR\|(3pm), \fIPFM::Abstract\fR\|(3pm), \fIPFM::Application\fR\|(3pm),
\&\fIPFM::Browser\fR\|(3pm), \fIPFM::CommandHandler\fR\|(3pm), \fIPFM::Config\fR\|(3pm),
\&\fIPFM::Directory\fR\|(3pm), \fIPFM::History\fR\|(3pm), \fIPFM::Job\fR\|(3pm),
\&\fIPFM::Screen\fR\|(3pm), \fIPFM::State\fR\|(3pm) and \fIPFM::Util\fR\|(3pm).
.PP
The pfm project page: http://sourceforge.net/projects/p\-f\-m/
